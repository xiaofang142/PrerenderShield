# Implementation Plan for Rendering Preheat Configuration Optimization

## 1. Frontend Changes (web/src/pages/Sites/Sites.tsx)
- **Remove default crawler headers checkbox**: Delete the `useDefaultHeaders` switch component and related logic
- **Set default crawler headers**: Update the form's initial values to include a comprehensive list of common crawler headers
- **Update UI text**: Change "自定义爬虫协议头" to "爬虫协议头" and update the description
- **Increase textarea size**: Adjust rows from 4 to 6 for better usability

## 2. Backend Changes (internal/prerender/engine.go)
- **Simplify GetCrawlerHeaders method**: Remove logic for `UseDefaultHeaders` flag, directly return custom crawler headers
- **Update default configuration**: Ensure new sites automatically include all common crawler headers
- **Verify engine flow**: Confirm the logic follows: check crawler → check preheat enabled → check cache → render if needed → cache result

## 3. Config Changes (internal/config/config.go)
- **Update default site config**: Include all common crawler headers in the default prerender configuration

## 4. Testing
- UI verification: Check that the checkbox is removed and default headers are populated
- Functionality testing: Verify crawler detection works correctly
- Cache testing: Ensure pre-rendered content is cached and served from cache on subsequent requests
- Performance testing: Confirm no regression in response times

This plan breaks the implementation into manageable parts, focusing first on the UI changes, then backend modifications, and finally verification.
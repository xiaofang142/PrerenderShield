# 实现渲染预热配置优化

## 需求分析
1. 去掉默认爬虫头勾选框
2. 将默认爬虫头全部默认值填写在自定义爬虫头输入框
3. 默认值支持市面上常见全部爬虫头
4. 确保引擎逻辑流程正确：
   - 判断是否是爬虫，不是则常规返回
   - 判断是否开启渲染预热，未开启则常规返回
   - 是则进入预渲染逻辑
   - 预渲染判断是否命中缓存，命中直接返回，没有则进入预渲染，返回完整html并缓存

## 实现计划

### 1. 前端修改 (web/src/pages/Sites/Sites.tsx)
- **移除默认爬虫头勾选框**：删除第1969-1975行的`useDefaultHeaders`开关组件
- **设置默认爬虫头**：在渲染预热配置表单的初始值中，将所有常见爬虫头设置为`crawlerHeaders`的默认值
- **更新表单验证**：确保表单不再依赖`useDefaultHeaders`字段
- **更新UI说明**：修改相关提示文本

### 2. 后端修改 (internal/prerender/engine.go)
- **更新GetCrawlerHeaders方法**：移除第906-929行中关于`useDefaultHeaders`的逻辑，直接返回自定义爬虫头
- **更新PrerenderConfig结构体**：考虑移除`UseDefaultHeaders`字段（或在使用时忽略）
- **确保默认配置**：在创建站点时，将所有常见爬虫头添加到`crawlerHeaders`字段中

### 3. 配置修改
- **更新默认配置**：确保新创建的站点自动包含完整的爬虫头列表
- **保持向后兼容**：确保现有配置仍能正常工作

### 4. 引擎逻辑验证
- 确认IsCrawlerRequest方法正确判断爬虫请求
- 确认渲染预热开关正确控制预渲染流程
- 确认缓存命中逻辑正确
- 确认渲染结果正确缓存

## 预期效果
- 简化UI，用户只需管理一个爬虫头输入框
- 默认包含市面上所有常见爬虫头
- 提高爬虫识别准确率
- 确保预渲染流程正确执行

## 技术要点
- 使用完整的爬虫头列表，包含Googlebot、Bingbot、Baiduspider等所有常见爬虫
- 简化配置逻辑，减少用户操作步骤
- 保持高性能的爬虫识别和预渲染流程
- 确保缓存机制正常工作，提高响应速度